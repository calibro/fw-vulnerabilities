(function(t){function e(e){for(var r,o,s=e[0],l=e[1],c=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(f.length)f.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],r=!0,s=1;s<i.length;s++){var l=i[s];0!==a[l]&&(r=!1)}r&&(n.splice(e--,1),t=o(o.s=i[0]))}return t}var r={},a={app:0},n=[];function o(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=r,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(i,r,function(e){return t[e]}.bind(null,r));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/fw-vulnerabilities/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"003a":function(t,e,i){"use strict";var r=i("480c"),a=i.n(r);a.a},"072d":function(t,e,i){"use strict";var r=i("1399"),a=i.n(r);a.a},"0b0d":function(t,e,i){},1399:function(t,e,i){},"14fd":function(t,e,i){},"1f88":function(t,e,i){},3575:function(t,e,i){},"46f7":function(t,e,i){"use strict";var r=i("1f88"),a=i.n(r);a.a},"480c":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var r=i("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"fw-header"},[r("b-container",{staticClass:"h-100"},[r("b-row",{staticClass:"h-100"},[r("b-col",[r("div",{staticClass:"d-flex h-100 align-items-center justify-content-between"},[r("div",{staticClass:"logoCont"},[r("img",{attrs:{src:i("6484"),height:"100%",width:"auto"}})]),r("h6",{staticClass:"my-0 text-uppercase"},[t._v("\n              cybersecurity datavizlab\n            ")])])])],1)],1)],1),t.showApp?r("div",{staticClass:"ui-body"},[r("div",{staticClass:"options-bar-container"},[r("options-bar")],1),r("div",{staticClass:"slide-container item-container"},[r("div",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],staticClass:"slide-box"},[r("slide-container",{ref:"slide"})],1),r("filter-sidebar")],1),r("div",{staticClass:"export-bar-container"},[r("export-bar",{on:{export:t.doExport}})],1)]):r("div",{staticClass:"load-data-ui"},[r("data-selector"),t._v(" or "),r("span",{staticClass:"data-link",on:{click:t.loadTestData}},[t._v("use test data")])],1)])},n=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.fetchingData?i("div",{staticClass:"loading-container"},[i("b-spinner",{attrs:{label:"Loading..."}}),t._v("\n  Loading...\n")],1):i("svg",{ref:"mainSlide",attrs:{id:"main-slide",preserveAspectRatio:"",width:t.svgWidth,height:t.svgHeight,viewBox:"0 0 "+t.slideSizeArray.join(" ")}},[i("text",{attrs:{x:"25",y:"50","font-size":"32px","font-family":"'Arial', sans-serif","font-weight":"bold"}},[t._v("\n    "+t._s(t.slideTitle)+"\n  ")]),i("beeswarm-chart",{attrs:{x:"25",y:"66",width:t.slideSizeArray[0]-25,height:t.slideSizeArray[1]-33}}),i("text",{attrs:{x:t.slideSizeArray[0]-25,y:t.slideSizeArray[1]-25,"font-size":"16px","font-family":"'Arial', sans-serif","text-anchor":"end",fill:"#aaa"}},[t._v("\n    "+t._s(t.slideSource)+"\n  ")])],1)},s=[],l=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),c=i("bc05"),u=(i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("7f7f"),i("6b54"),i("a481"),i("6762"),i("2fdb"),i("67a3")),d=i.n(u);function f(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=p(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,n=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw n}}}}function p(t,e){if(t){if("string"===typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var v="http://www.w3.org/2000/xmlns/",b="http://www.w3.org/1999/xlink",g="http://www.w3.org/2000/svg";function m(t,e){t=t.cloneNode(!0);var i=window.location.href+"#",r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null,!1);while(r.nextNode()){var a,n=f(r.currentNode.attributes);try{for(n.s();!(a=n.n()).done;){var o=a.value;o.value.includes(i)&&(o.value=o.value.replace(i,"#"))}}catch(u){n.e(u)}finally{n.f()}}t.setAttributeNS(v,"xmlns",g),t.setAttributeNS(v,"xmlns:xlink",b);var s=new window.XMLSerializer,l=s.serializeToString(t),c=new Blob([l],{type:"image/svg+xml"});d()(c,e+".svg")}var y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{ref:"mainSVG",attrs:{x:t.x,y:t.y,height:t.height,width:t.width}},[i("svg",{ref:"mainChart",attrs:{id:"main-chart",height:t.height,width:t.width}}),i("g",{ref:"legend",attrs:{id:"legend",transform:"translate(0,"+(t.height-100)+")"}})])},_=[],w=(i("28a5"),i("7514"),i("20d6"),i("75fc")),x=(i("55dd"),i("f400"),i("0567")),O=i("5698"),C=i("e13a"),S=i("28ad"),k=i("2f62");function j(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function A(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?j(Object(i),!0).forEach((function(e){Object(l["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var D={name:"BeeswarmChart",props:["x","y","height","width"],computed:A(A({},Object(k["d"])({colorBy:function(t){return t.colorBy},groupBy:function(t){return t.groupBy},sortBy:function(t){return t.sortBy},dotSize:function(t){return t.dotSize},showSLA:function(t){return t.showSLA},showDescriptionNote:function(t){return t.showDescriptionNote},csvData:function(t){return t.data.csvData}})),Object(k["b"])({filteredData:"data/filteredData"})),mounted:function(){this.draw()},methods:{init:function(){var t=this.csvData,e=O["v"]().domain(["Low","Medium","High"]).range(["#00E4A2","#EAEA6A","#D4003D"]),i=O["w"]().domain([0,O["s"](t,(function(t){return t["vit_age"]}))]).interpolator(O["o"]),r=O["w"]().domain([0,O["s"](t,(function(t){return t["dmp_u_fatturato_esposizione_residuo"]}))]).interpolator(O["q"]).unknown("#ccc"),a=O["w"]().domain([0,O["s"](t,(function(t){return t["sir_u_workaround_cost"]}))]).interpolator(O["p"]).unknown("#ccc"),n=O["w"]().domain([0,O["s"](t,(function(t){return t["sir_u_remediation_cost"]}))]).interpolator(O["p"]).unknown("#ccc");this.colorScales={vit_priority:e,vit_age:i,dmp_u_fatturato_esposizione_residuo:r,sir_u_workaround_cost:a,sir_u_remediation_cost:n},this.colorScalesLabel={vit_priority:"Priority",vit_age:"Age",dmp_u_fatturato_esposizione_residuo:"Esposizione",sir_u_workaround_cost:"Workaround Cost",sir_u_remediation_cost:"Remediation Cost"},this.simulation=O["k"]().force("x",O["l"]().strength(1)).force("y",O["m"]()).force("collide",O["j"]().iterations(1)),this.annotations=[],this.initialized=!0},draw:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!this.initialized&&this.init();var r=this,a={top:40,right:30,bottom:130,left:250},n={width:300,height:100},o=O["y"](this.$refs.mainChart).attr("width",this.width).attr("height",this.height);if(0==this.filteredData.length)o.selectAll("*").remove(),O["y"](this.$refs.legend).selectAll("*").remove(),o.append("text").attr("class","no-data-text").style("font-size","40px").attr("y","50%").text("No data in your selection"),this.scaleToFit(0,0,this.width,this.height);else{o.selectAll(".no-data-text").remove();var s=this.width-a.left-a.right,l=this.height-a.top-a.bottom,c=C["a"](this.filteredData,(function(t){return t.length}),(function(e){return e[t.groupBy]})),u=new Map(Object(w["a"])(c).sort((function(t,e){return"Count"===r.sortBy?O["i"](t[1],e[1]):O["b"](t[0],e[0])}))),d=this.$store.state.data.filters["vit_u_cvss_score"],f=O["u"]().range([0,s]).domain(d),p=O["x"]().domain([0,4,7,10]).range(["","low","medium","high",""]),h=O["t"]().rangeRound([0,l]).domain(Object(w["a"])(u.keys())),v=O["v"]().range([0,360]).domain([!1,!0]),b=1,g=this.dotSize,m=o.select("#xAxisGroup");m.empty()&&(m=o.append("g").attr("id","xAxisGroup").attr("transform","translate("+a.left+","+a.top+")")),m.call(O["g"](f).tickSize(-l).tickPadding(5)).call((function(t){t.select(".domain").attr("d",O["r"]()([[-a.left,0],[s,0]])),t.selectAll("text").attr("font-size","16px").attr("font-family","Arial, sans-serif").attr("font-weight","bold"),t.selectAll(".domain, .tick line").attr("stroke","grey")}));var y=o.select("#xAxisHelperGroup");y.empty()&&(y=o.append("g").attr("id","xAxisHelperGroup").attr("transform","translate("+a.left+","+a.top/4+")")),y.call(O["d"](f).tickValues(p.domain()).tickFormat((function(t){return p(t)}))).call((function(t){t.selectAll("text").attr("font-size","16px").attr("font-family","Arial, sans-serif").attr("font-weight","bold").attr("text-anchor","start").attr("transform","translate(10,-16)").attr("paint-order","stroke").attr("stroke","#fff").attr("stroke-width","10px").attr("stroke-linecap","round").attr("stroke-linejoin","round"),t.selectAll(".domain, .tick line").attr("stroke","#ddd")}));var _=o.select("#yAxisGroup");_.empty()&&(_=o.append("g").attr("id","yAxisGroup").attr("transform","translate("+a.left+","+a.top+")")),_.call(O["e"](h).tickSize(-s)).call((function(t){t.select(".domain").remove(),t.selectAll("text").attr("font-size","16px").attr("font-family","Arial, sans-serif").attr("font-weight","bold").attr("transform","translate(".concat(-a.left,",0)")).attr("text-anchor","start").text((function(t){return t+" (".concat(u.get(t),")")})),t.selectAll(".domain, .tick line").attr("stroke","#ddd"),t.selectAll(".tick text").call(r.wrap,a.left)}));var x=o.select("#yAxisHelperGroup");x.empty()&&(x=o.append("g").attr("id","yAxisHelperGroup").attr("transform","translate("+(s+a.left)+","+(a.top+h.bandwidth()/2)+")")),x.attr("transform","translate("+(s+a.left)+","+(a.top+h.bandwidth()/2)+")").call(O["f"](h).tickSize(-s-a.left)).call((function(t){t.selectAll("text").remove(),t.select(".domain").remove(),t.selectAll(".domain, .tick line").attr("stroke","grey")}));var k=o.select("#chartContainer");k.empty()&&(k=o.append("g").attr("id","chartContainer").attr("transform","translate("+a.left+","+a.top+")"));var j=O["a"]().innerRadius(0).outerRadius((function(t){return t.radius})).startAngle(0).endAngle((function(t){return t.angle*(Math.PI/180)})),A=k.selectAll(".bee").data(this.filteredData,(function(t){return t.dataId})),D=A.enter().append("g").attr("class","bee").on("click",(function(t){r.toggleAnnotation(t,this)}));D.append("circle"),D.append("path"),A.exit().each((function(t){var e=r.annotations.findIndex((function(e){return e.annotations().find((function(e){return e.data.dataId==t.dataId}))}));e>=0&&(r.annotations.splice(e,1),O["y"]("#annotation-"+t.dataId).remove())})),A.exit().remove(),A=A.merge(D),A.select("path").attr("d",(function(e){var i=v(e.Sla);return j({radius:g-1,angle:t.showSLA?i:360})})).transition().attr("fill",(function(t){return r.colorScales[r.colorBy](t[r.colorBy])})),A.select("circle").attr("r",g-.5).attr("fill","white").attr("stroke",(function(t){return r.colorScales[r.colorBy](t[r.colorBy])})).attr("stroke-width",1),this.simulation.force("x").x((function(t){return f(t["vit_u_cvss_score"])})),this.simulation.force("y").y((function(e){return h(e[t.groupBy])+h.bandwidth()/2})),this.simulation.force("collide").radius(g+b),this.simulation.nodes(this.filteredData).on("tick",(function(t){A.attr("transform",(function(t){return"translate(".concat(t.x,",").concat(t.y,")")})),r.annotations.forEach((function(t){t.annotations().forEach((function(t){t.x=t.data.x,t.y=t.data.y,t.data.x+t.dx>r.width-n.width&&(t.dx=r.width-t.data.x-2*n.width),t.data.x+t.dx<0&&(t.dx=0),t.data.y+t.dy>r.height-n.height&&(t.dy=r.height-t.data.y-2*n.height),t.data.y+t.dy<0&&(t.dy=0)}))}))})),i&&this.simulation.alpha(e).restart();var F=O["y"](this.$refs.legend).select(".legendColor"),P=S["a"].legendColor().shapePadding(40).orient("horizontal").title(r.colorScalesLabel[r.colorBy]).labelFormat(O["n"](".0f")).scale(r.colorScales[r.colorBy]);F.empty()?(O["y"](this.$refs.legend).append("g").attr("class","legendColor"),O["y"](this.$refs.legend).select(".legendColor").call(P),O["y"](this.$refs.legend).select(".legendColor").selectAll("text").attr("font-family","'Arial', sans-serif")):(F.call(P),F.selectAll("text").attr("font-family","'Arial', sans-serif"));var E=O["y"](this.$refs.legend).select(".legendSla");E.empty()&&(E=O["y"](this.$refs.legend).append("g").attr("class","legendSla").attr("transform","translate(".concat(280,",0)")),E.append("text").attr("fill","#aaa").attr("font-family","Arial, sans-serif").text("SLA breached")),E.attr("opacity",this.showSLA?1:0);var z=E.selectAll("g").data([!1,!0]).join("g").attr("transform",(function(t,e){return"translate(".concat(40*e+7,",0)")}));z.selectAll("path").data((function(t){return[t]})).join("path").attr("fill","grey").attr("transform","translate(0,25)").attr("d",(function(t){return j({radius:8,angle:v(t)})})),z.selectAll("circle").data((function(t){return[t]})).join("circle").attr("fill","none").attr("stroke","grey").attr("transform","translate(0,25)").attr("r",8),z.selectAll("text").data((function(t){return[t]})).join("text").attr("fill","black").attr("text-anchor","middle").attr("transform","translate(0,50)").attr("font-family","Arial, sans-serif").text((function(t){return t}))}},scaleToFit:function(t,e,i,r){var a=12;O["y"](this.$refs.mainChart).attr("viewBox","".concat(t," ").concat(i-a," ").concat(e-t," ").concat(r-i+2*a))},wrap:function(t,e){t.each((function(){var t,i=O["y"](this),r=i.text().split(/\s+/).reverse(),a=[],n=0,o=1.1,s=i.attr("y"),l=parseFloat(i.attr("dy")),c=i.text(null).append("tspan").attr("x",0).attr("y",s).attr("dy",l+"em");while(t=r.pop())a.push(t),c.text(a.join(" ")),c.node().getComputedTextLength()>e&&(a.pop(),c.text(a.join(" ")),a=[t],c=i.append("tspan").attr("x",0).attr("y",s).attr("dy","".concat(++n*o+l,"em")).text(t))}))},toggleAnnotation:function(t,e){var i=this,r=this.annotations.findIndex((function(e){return e.annotations().find((function(e){return e.data.dataId==t.dataId}))}));if(r>=0)this.annotations.splice(r,1),O["y"](e.parentNode).select("#annotation-"+t.dataId).remove(),O["y"](e).selectAll("circle").attr("stroke",(function(t){return i.colorScales[i.colorBy](t[i.colorBy])}));else{var a={note:{title:t["vit_u_vulnerability"]||t["vit_number"],label:this.getAnnotationText(t),bgPadding:20,orientation:"fixed"},data:t,className:"show-bg",dx:t.x>this.width/2?-50:50,dy:t.y>this.height/2?-100:100},n=x["a"].annotationLabel,o=x["a"].annotation().editMode(!0).notePadding(15).textWrap(500).type(n).annotations([a]).accessors({x:function(t){return t.x},y:function(t){return t.y}}),s=O["y"](e.parentNode).append("g").attr("class","annotation-group").attr("id","annotation-"+t.dataId).call(o);s.select(".annotation-note-title").on("click",(function(e){var i="https://fastweb.service-now.com/nav_to.do?uri=%2Fsn_vul_vulnerable_item.do%3Fsys_id%3D";window.open(i+t["vit_sys_id"])})),this.setAnnotationStyle(s),o.element=s,O["y"](e).selectAll("circle").attr("stroke","black"),this.annotations.push(o)}},updateAnnotationText:function(){var t=this,e=this;this.annotations.forEach((function(i){i.annotations().forEach((function(t){t.note.label=e.getAnnotationText(t.data)})),i.updateText(),t.setAnnotationStyle(i.element)}))},setAnnotationStyle:function(t){t.select(".annotation-note-bg").attr("fill-opacity",.85).attr("fill","black").attr("stroke","white").attr("rx",10).attr("ry",10),t.selectAll("text").attr("font-family","Arial, sans-serif").attr("fill","white"),t.select(".annotation-note-title").style("cursor","pointer").style("text-decoration","underline").attr("transform","translate(0,-5)"),t.select(".annotation-note-label").attr("transform","translate(0,5)"),t.selectAll(".handle").attr("stroke-opacity",0).attr("fill-opacity",0),t.selectAll(".annotation-subject .handle").remove()},getAnnotationText:function(t){var e="".concat(t["vit_number"]).concat(t["vit_substate"]?" | "+t["vit_substate"]:"");return this.showDescriptionNote&&(e+=" | "+t["vit_u_vulnerability_description_text"]),e}},watch:{filteredData:function(){this.draw()},height:function(){this.draw()},groupBy:function(){this.draw()},colorBy:function(){this.draw(.1,!1)},sortBy:function(){this.draw()},dotSize:function(){this.draw(.3)},showSLA:function(){this.draw(.1,!1)},showDescriptionNote:function(){this.updateAnnotationText()}}},F=D,P=(i("003a"),i("2877")),E=Object(P["a"])(F,y,_,!1,null,null,null),z=E.exports;function $(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function B(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$(Object(i),!0).forEach((function(e){Object(l["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var L={name:"SlideContainer",data:function(){return{svgHeight:0}},components:{BeeswarmChart:z},mounted:function(){this.resize()},computed:B(B(B({},Object(k["d"])({slideTitle:function(t){return t.slideTitle},slideSource:function(t){return t.slideSource},fetchingData:function(t){return t.data.fetchingData}})),Object(k["b"])(["slideSizeArray"])),{},{aspectRatio:function(){return this.slideSizeArray[0]/this.slideSizeArray[1]},svgWidth:function(){return this.svgHeight*this.aspectRatio}}),methods:{exportImage:function(t,e){console.log(t,e);var i=e||"chart";switch(t){case"png":Object(c["saveSvgAsPng"])(this.$refs.mainSlide,i+".png");break;case"svg":m(this.$refs.mainSlide,i)}},resize:function(){this.svgHeight=Math.min(this.$el.parentNode.clientHeight,this.$el.parentNode.clientWidth/this.aspectRatio)}}},T=L,R=(i("8a36"),Object(P["a"])(T,o,s,!1,null,"c22642f6",null)),N=R.exports,V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",{staticClass:"options-bar"},[i("b-row",[i("b-col",{attrs:{sm:"2"}},[i("data-selector")],1),i("b-col",{attrs:{sm:"2"}},[i("fw-select",{attrs:{label:"Group by",value:t.groupBy,options:t.groupOptions},on:{change:t.setGroupBy}})],1),i("b-col",{attrs:{sm:"2"}},[i("fw-select",{attrs:{label:"Sort by",value:t.sortBy,options:t.sortOptions},on:{change:t.setSortBy}})],1),i("b-col",{attrs:{sm:"2"}},[i("fw-select",{attrs:{label:"Color by",value:t.colorBy,options:t.colorOptions},on:{change:t.setColorBy}})],1),i("b-col",{staticClass:"align-self-start d-flex flex-column",attrs:{sm:"2"}},[i("fw-slider",{attrs:{label:"Dot size",value:t.dotSize,min:"2",max:"10",label_min:"small",label_max:"large"},on:{input:t.setDotSize}})],1),i("b-col",{staticClass:"align-self-start d-flex flex-column",attrs:{sm:"1"}},[i("label",{staticClass:"fw-option-select-label"},[t._v("SLA")]),i("b-form-checkbox",{staticClass:"mt-2",attrs:{checked:t.showSLA},on:{change:t.setShowSLA}},[t._v("Show")])],1),i("b-col",{staticClass:"align-self-start d-flex flex-column",attrs:{sm:"1"}},[i("label",{staticClass:"fw-option-select-label"},[t._v("Description")]),i("b-form-checkbox",{staticClass:"mt-2",attrs:{checked:t.showDescriptionNote},on:{change:t.setShowDescriptionNote}},[t._v("Show")])],1)],1)],1)},I=[],K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"data-selector"},[i("b-alert",{staticClass:"error-bar",attrs:{show:""!=t.dataError,variant:"warning"}},[t._v("\n    "+t._s(t.dataError)+"\n  ")]),i("div",{staticClass:"data-selector-line"},[i("div",{staticClass:"upload-button-container align-self-center w-100"},[t.selectedFile?i("div",{staticClass:"upload-file-name"},[t._v("\n        "+t._s(t.selectedFile.name)+"\n      ")]):t._e(),i("fw-button",{staticClass:"upload-button btn-block",on:{click:t.openSelectFile}},[t._v("\n        Upload .csv\n        "),i("input",{ref:"fileSelector",staticStyle:{display:"none"},attrs:{type:"file",accept:"text/csv"},on:{change:t.onSelectFile}})])],1)])],1)},M=[];function G(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function H(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?G(Object(i),!0).forEach((function(e){Object(l["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var W={name:"DataSelector",mounted:function(){},computed:H({},Object(k["d"])({remoteFileList:function(t){return t.remoteFileList},selectedFile:function(t){return t.data.selectedDataSource.localFile},selectedRemote:function(t){return t.data.selectedDataSource.remoteFileUrl},dataError:function(t){return t.data.dataError}})),methods:{openSelectFile:function(){this.$refs.fileSelector.click()},onSelectFile:function(t){var e=t.target.files.length>0&&t.target.files[0];e&&this.$store.dispatch("data/loadDataFromFile",e)},selectRemoteFile:function(t){this.$store.dispatch("data/loadData",t)}}},U=W,J=(i("7ae6"),Object(P["a"])(U,K,M,!1,null,"14bdf57c",null)),q=J.exports;function X(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?X(Object(i),!0).forEach((function(e){Object(l["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):X(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Q={name:"OptionsBar",components:{DataSelector:q},data:function(){return{groupOptions:[{value:"vit_state",text:"State"},{value:"vit_u_close_code",text:"Close code"},{value:"usr_u_business_unit",text:"Team Aziendale"}],colorOptions:[{value:"vit_priority",text:"Priority"},{value:"vit_age",text:"Age"},{value:"dmp_u_fatturato_esposizione_residuo",text:"Fattore di esposizione"},{value:"sir_u_remediation_cost",text:"Remediation Cost"},{value:"sir_u_workaround_cost",text:"Workaround Cost"}],sortOptions:[{value:"Count",text:"Count"},{value:"Alphabetically",text:"Alphabetically"}]}},computed:Y({},Object(k["d"])(["groupBy","colorBy","sortBy","dotSize","showSLA","showDescriptionNote"])),methods:Y({},Object(k["c"])(["setGroupBy","setColorBy","setSortBy","setDotSize","setShowSLA","setShowDescriptionNote"]))},Z=Q,tt=(i("98ca"),Object(P["a"])(Z,V,I,!1,null,"3c1b4d28",null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",{staticClass:"export-bar"},[i("b-row",[i("b-col",[i("fw-input",{attrs:{label:"Title",value:t.slideTitle,placeholder:"your slide title"},on:{input:t.setslideTitle}})],1),i("b-col",[i("div",{staticClass:"fw-option-select-label"},[t._v("export")]),i("b-row",[i("b-col",[i("b-button",{staticClass:"btn-block fw-button",attrs:{variant:"warning"},on:{click:function(){return t.onExport("svg",t.slideTitle)}}},[t._v("\n            .svg\n          ")])],1),i("b-col",[i("b-button",{staticClass:"btn-block fw-button",attrs:{variant:"warning"},on:{click:function(){return t.onExport("png",t.slideTitle)}}},[t._v("\n            .png\n          ")])],1)],1)],1),i("b-col",[i("fw-select",{attrs:{label:"Slide size",value:t.slideSize,options:t.slideSizeOptions},on:{change:t.setSlideSize}})],1),i("b-col",[i("fw-select",{attrs:{label:"Load Presets",value:"default",options:t.presetOptionsList},on:{change:t.changePreset}})],1)],1)],1)},rt=[];function at(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function nt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?at(Object(i),!0).forEach((function(e){Object(l["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):at(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ot={name:"ExportBar",data:function(){return{slideSizeOptions:[{value:"1920:1080",text:"1920 x 1080 (16:9)"},{value:"1024:768",text:"1024 x 768 (4:3)"},{value:"1191:842",text:"1191 x 842 (A3 landscape)"}]}},computed:nt({},Object(k["d"])(["slideTitle","slideSource","slideSize","presetOptionsList"])),methods:nt(nt({},Object(k["c"])(["setslideTitle","setSlideSource","setSlideSize","setViewPreset","data/setFilterPreset","data/resetFilters"])),{},{changePreset:function(t){if("default"!=t)this["setViewPreset"](t.viewOptions),this["data/setFilterPreset"](t.filtersOptions);else{var e={groupBy:"vit_state",sortBy:"Count",colorBy:"vit_priority",showSLA:!1};this["setViewPreset"](e),this["data/resetFilters"]()}},onExport:function(t,e){this.$emit("export",t,e)}})},st=ot,lt=(i("072d"),Object(P["a"])(st,it,rt,!1,null,"9e2ebb7a",null)),ct=lt.exports,ut=function(){var t=this,e=this,i=e.$createElement,r=e._self._c||i;return r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],staticClass:"filter-sidebar",class:{open:e.isOpen}},[r("div",{staticClass:"button-container"},[r("b-button",{staticClass:"button-toggle-filter d-flex align-items-center justify-content-center",attrs:{pill:"",variant:"outline-secondary"},on:{click:e.toggleSidebar}},[e.isOpen?e._e():r("b-icon-funnel"),e.isOpen?r("b-icon-x"):e._e()],1)],1),r("div",{staticClass:"filters-container"},[r("div",{staticClass:"filter-header"},[r("div",{staticClass:"filter-title"},[e._v("Filters")]),r("div",{staticClass:"filter-reset",on:{click:function(){return t["data/resetFilters"]()}}},[e._v("\n        RESET\n      ")])]),r("div",{staticClass:"filter-list",attrs:{role:"tablist"}},[r("div",{staticClass:"filter-block"},[r("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Real target\n          "),e.isFilterActive("vit_u_real_target")?r("span",{staticClass:"active-filter-marker"}):e._e(),r("b-icon-chevron-up",{staticClass:"caret"})],1),r("b-collapse",{attrs:{id:"accordion-1",accordion:"filter-accordion",role:"tabpanel"}},[r("div",{staticClass:"filter-body"},[r("group-list-filter",{attrs:{filterKey:"vit_u_real_target"},on:{change:e.onChangeFilter}})],1)])],1),r("div",{staticClass:"filter-block"},[r("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          CVSS Score\n          "),e.isFilterActive("vit_u_cvss_score")?r("span",{staticClass:"active-filter-marker"}):e._e(),r("b-icon-chevron-up",{staticClass:"caret"})],1),r("b-collapse",{attrs:{id:"accordion-2",accordion:"filter-accordion",role:"tabpanel"}},[r("div",{staticClass:"filter-body"},[r("range-filter",{attrs:{filterKey:"vit_u_cvss_score"},on:{change:e.onChangeFilter}})],1)])],1),r("div",{staticClass:"filter-block"},[r("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Priority\n          "),e.isFilterActive("vit_priority")?r("span",{staticClass:"active-filter-marker"}):e._e(),r("b-icon-chevron-up",{staticClass:"caret"})],1),r("b-collapse",{attrs:{id:"accordion-3",accordion:"filter-accordion",role:"tabpanel"}},[r("div",{staticClass:"filter-body"},[r("checkbox-filter",{attrs:{filterKey:"vit_priority"},on:{change:e.onChangeFilter}})],1)])],1),r("div",{staticClass:"filter-block"},[r("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-4",modifiers:{"accordion-4":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          State\n          "),e.isFilterActive("vit_state")?r("span",{staticClass:"active-filter-marker"}):e._e(),r("b-icon-chevron-up",{staticClass:"caret"})],1),r("b-collapse",{attrs:{id:"accordion-4",accordion:"filter-accordion",role:"tabpanel"}},[r("div",{staticClass:"filter-body"},[r("checkbox-filter",{attrs:{filterKey:"vit_state"},on:{change:e.onChangeFilter}})],1)])],1),r("div",{staticClass:"filter-block"},[r("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-5",modifiers:{"accordion-5":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Close Code\n          "),e.isFilterActive("vit_u_close_code")?r("span",{staticClass:"active-filter-marker"}):e._e(),r("b-icon-chevron-up",{staticClass:"caret"})],1),r("b-collapse",{attrs:{id:"accordion-5",accordion:"filter-accordion",role:"tabpanel"}},[r("div",{staticClass:"filter-body"},[r("checkbox-filter",{attrs:{filterKey:"vit_u_close_code"},on:{change:e.onChangeFilter}})],1)])],1),r("div",{staticClass:"filter-block"},[r("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-6",modifiers:{"accordion-6":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Team Aziendale\n          "),e.isFilterActive("usr_u_business_unit")?r("span",{staticClass:"active-filter-marker"}):e._e(),r("b-icon-chevron-up",{staticClass:"caret"})],1),r("b-collapse",{attrs:{id:"accordion-6",accordion:"filter-accordion",role:"tabpanel"}},[r("div",{staticClass:"filter-body"},[r("checkbox-filter",{attrs:{filterKey:"usr_u_business_unit"},on:{change:e.onChangeFilter}})],1)])],1),r("div",{staticClass:"filter-block"},[r("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-7",modifiers:{"accordion-7":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Year\n          "),e.isFilterActive("vit_u_year")?r("span",{staticClass:"active-filter-marker"}):e._e(),r("b-icon-chevron-up",{staticClass:"caret"})],1),r("b-collapse",{attrs:{id:"accordion-7",accordion:"filter-accordion",role:"tabpanel"}},[r("div",{staticClass:"filter-body"},[r("checkbox-filter",{attrs:{filterKey:"vit_u_year"},on:{change:e.onChangeFilter}})],1)])],1),r("div",{staticClass:"filter-block"},[r("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-8",modifiers:{"accordion-8":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Esposizione\n          "),e.isFilterActive("dmp_u_esposizione")?r("span",{staticClass:"active-filter-marker"}):e._e(),r("b-icon-chevron-up",{staticClass:"caret"})],1),r("b-collapse",{attrs:{id:"accordion-8",accordion:"filter-accordion",role:"tabpanel"}},[r("div",{staticClass:"filter-body"},[r("checkbox-filter",{attrs:{filterKey:"dmp_u_esposizione"},on:{change:e.onChangeFilter}})],1)])],1),r("div",{staticClass:"filter-block"},[r("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-9",modifiers:{"accordion-9":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Source\n          "),e.isFilterActive("vit_source")?r("span",{staticClass:"active-filter-marker"}):e._e(),r("b-icon-chevron-up",{staticClass:"caret"})],1),r("b-collapse",{attrs:{id:"accordion-9",accordion:"filter-accordion",role:"tabpanel"}},[r("div",{staticClass:"filter-body"},[r("checkbox-filter",{attrs:{filterKey:"vit_source"},on:{change:e.onChangeFilter}})],1)])],1),r("div",{staticClass:"filter-block"},[r("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-10",modifiers:{"accordion-10":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Remediation supervisor\n          "),e.isFilterActive("vit_u_handler")?r("span",{staticClass:"active-filter-marker"}):e._e(),r("b-icon-chevron-up",{staticClass:"caret"})],1),r("b-collapse",{attrs:{id:"accordion-10",accordion:"filter-accordion",role:"tabpanel"}},[r("div",{staticClass:"filter-body"},[r("group-list-filter",{attrs:{filterKey:"vit_u_handler"},on:{change:e.onChangeFilter}})],1)])],1)])])])},dt=[],ft=i("e67d"),pt=i.n(ft),ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-form-group",[i("b-form-checkbox-group",{attrs:{options:t.options,name:t.filterKey},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},vt=[],bt={name:"CheckboxFilter",props:["filterKey"],data:function(){return{selected:null}},computed:{options:function(){var t=this.$store.state.data.filterOptions[this.filterKey];return t&&t.map((function(t){return{text:t,value:t}}))},value:{get:function(){return this.$store.state.data.filters[this.filterKey]},set:function(t,e){this.change(t)}}},methods:{change:function(t){this.$emit("change",{filterKey:this.filterKey,val:t})}}},gt=bt,mt=Object(P["a"])(gt,ht,vt,!1,null,"2808d6c8",null),yt=mt.exports,_t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"range-filter"},[i("div",{staticClass:"input-block"},[i("label",[t._v("Min")]),i("b-form-input",{ref:"minInput",attrs:{value:t.minVal,type:"number",min:t.minRange,max:Math.min(t.maxRange,t.maxVal),step:"0.1"},on:{change:t.change}})],1),i("div",{staticClass:"input-block"},[i("label",[t._v("Max")]),i("b-form-input",{ref:"maxInput",attrs:{value:t.maxVal,type:"number",min:Math.max(t.minRange,t.minVal),max:t.maxRange,step:"0.1"},on:{change:t.change}})],1)])},wt=[],xt={name:"RangeFilter",props:["filterKey"],computed:{range:function(){return this.$store.state.data.filterOptions[this.filterKey]},value:function(){return this.$store.state.data.filters[this.filterKey]},minRange:function(){return this.range&&2==this.range.length?this.range[0].toFixed(1):0},maxRange:function(){return this.range&&2==this.range.length?this.range[1].toFixed(1):10},minVal:function(){return this.value&&2==this.value.length?this.value[0].toFixed(1):0},maxVal:function(){return this.value&&2==this.value.length?this.value[1].toFixed(1):10}},methods:{change:function(t){var e=Math.max(parseFloat(this.$refs.minInput.localValue),this.minRange),i=Math.min(parseFloat(this.$refs.maxInput.localValue),this.maxRange);e=Math.min(e,i),i=Math.max(e,i),this.$refs.minInput.localValue=e,this.$refs.maxInput.localValue=i,this.$emit("change",{filterKey:this.filterKey,val:[e,i]})}}},Ot=xt,Ct=(i("46f7"),Object(P["a"])(Ot,_t,wt,!1,null,"57d9c7c2",null)),St=Ct.exports,kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"group-list-filter"},[i("div",{staticClass:"group-list-filter-controls"},[i("b-form-input",{staticClass:"search-input",attrs:{placeholder:"Search"},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}),i("div",{staticClass:"select-deselect-all"},[i("span",{staticClass:"select-all",on:{click:t.selectAll}},[t._v("Select all")]),t._v(" /\n      "),i("span",{staticClass:"select-all",on:{click:t.deselectAll}},[t._v("Deselect all")])])],1),i("div",{staticClass:"group-list"},t._l(t.filteredOption,(function(e){return i("div",{key:"g"+e.id},[i("input",{staticClass:"item-checkbox",attrs:{type:"checkbox",name:e.id},domProps:{checked:t.activeValues.includes(String(e.id))},on:{click:function(i){return t.toggleValue(e.id)}}}),t._v("\n      "+t._s(e.label)+"\n    ")])})),0)])},jt=[],At=i("c46f"),Dt={name:"GroupListFilter",props:["filterKey"],data:function(){return{searchTerm:""}},computed:{filteredOption:function(){var t=this;return this.searchTerm.length>0?this.options.filter((function(e){return e.label.includes(t.searchTerm)})):this.options},options:function(){var t=this.$store.state.data.filterOptions[this.filterKey];this.$store.state.data.csvData;return t&&t.map((function(t){return{id:t,label:t}}))},activeValues:function(){return this.$store.state.data.filters[this.filterKey]}},methods:{toggleValue:function(t){var e=this.activeValues.slice();e.includes(t)?e.splice(e.indexOf(t),1):e.push(t),this.$emit("change",{filterKey:this.filterKey,val:e})},selectAll:function(){var t=this.filteredOption.map((function(t){return t.id})),e=At["a"].union(t,this.activeValues);this.$emit("change",{filterKey:this.filterKey,val:e})},deselectAll:function(){var t=this.filteredOption.map((function(t){return t.id})),e=At["a"].difference(this.activeValues,t);this.$emit("change",{filterKey:this.filterKey,val:e})}}},Ft=Dt,Pt=(i("715c"),Object(P["a"])(Ft,kt,jt,!1,null,"e1391a88",null)),Et=Pt.exports;function zt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function $t(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(i),!0).forEach((function(e){Object(l["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Bt={name:"FilterSidebar",components:{RangeFilter:St,CheckboxFilter:yt,GroupListFilter:Et},data:function(){return{isOpen:!1}},computed:{filterList:function(){return filterColumns}},methods:$t($t({},Object(k["c"])(["data/setFilterValue","data/resetFilters"])),{},{isFilterActive:function(t){return this.$store.getters["data/isFilterActive"](t)},onChangeFilter:function(t,e){this["data/setFilterValue"](t,e)},toggleSidebar:function(){this.isOpen=!this.isOpen},hide:function(){this.isOpen=!1}}),directives:{ClickOutside:pt.a}},Lt=Bt,Tt=(i("eb38"),Object(P["a"])(Lt,ut,dt,!1,null,"5179aef4",null)),Rt=Tt.exports,Nt=i("428d"),Vt=i.n(Nt),It={name:"app",components:{SlideContainer:N,ExportBar:ct,OptionsBar:et,FilterSidebar:Rt,DataSelector:q},mounted:function(){this.$store.dispatch("loadPresetList")},computed:{showApp:function(){return!this.$store.state.data.firstLoad||this.$store.state.data.fetchingData}},methods:{doExport:function(t,e){this.$refs.slide.exportImage(t,e)},onResize:function(){this.$refs.slide.resize()},loadTestData:function(){this.$store.dispatch("data/loadTestData")}},directives:{resize:Vt.a}},Kt=It,Mt=(i("7faf"),Object(P["a"])(Kt,a,n,!1,null,null,null)),Gt=Mt.exports,Ht=(i("96cf"),i("3b8d")),Wt=(i("4f7f"),["vit_number","vit_u_vulnerability","vit_u_vulnerability_description_text","vit_source","vit_u_real_target","dmp_u_esposizione","dmp_u_fatturato_esposizione_residuo","vit_priority","vit_u_cvss_score","vit_state","vit_substate","vit_u_close_code","vit_u_handler","usr_u_business_unit","vit_age","vit_u_year","vit_sys_id","sir_u_remediation_cost","sir_u_workaround_cost"]),Ut=[{key:"vit_u_real_target",type:"group-list"},{key:"vit_u_cvss_score",type:"range"},{key:"vit_priority",type:"checkbox",order:["Low","Medium","High"]},{key:"vit_state",type:"checkbox",order:["In Review","Remediation","Closed"]},{key:"vit_u_close_code",type:"checkbox"},{key:"usr_u_business_unit",type:"checkbox"},{key:"vit_u_year",type:"checkbox"},{key:"dmp_u_esposizione",type:"checkbox",multiple:!0},{key:"vit_source",type:"checkbox"},{key:"vit_u_handler",type:"group-list"}],Jt={namespaced:!0,state:{loaded:!1,fetchingData:!1,firstLoad:!0,dataError:"",csvData:[],selectedDataSource:{localFile:null,remoteFileUrl:null},filters:{},filterOptions:{}},getters:{filteredData:function(t){var e=t.csvData;return Object.keys(t.filters).forEach((function(i){var r=Ut.find((function(t){return t.key==i}));"checkbox"==r.type?e=r.multiple?e.filter((function(e){return At["a"].intersection(t.filters[i],e[i]).length>0})):e.filter((function(e){return t.filters[i].includes(e[i])})):"range"==r.type?e=e.filter((function(e){return t.filters[i][0]<=e[i]&&t.filters[i][1]>=e[i]})):"group-list"==r.type&&(e=e.filter((function(e){return t.filters[i].includes(String(e[i]))})))})),e},isFilterActive:function(t){return function(e){var i=Ut.find((function(t){return t.key==e})),r=!1;return t.filterOptions[e]&&t.filters[e]&&(r="range"==i.type?t.filterOptions[e].map((function(i,r){return i!=t.filters[e][r]})).includes(!0):t.filterOptions[e].length!=t.filters[e].length),r}}},mutations:{setData:function(t,e){t.fetchingData=!1,At["a"].every(Wt,(function(t){return e.columns.includes(t)}))?(t.csvData=e,t.firstLoad=!1,t.loaded=!0,e.forEach((function(t,e){t.dataId=e,Ut.forEach((function(e){"checkbox"==e.type&&(t[e.key]=t[e.key]?t[e.key]:"N/A")}));var i=t["dmp_u_esposizione"].replace(/\s/g,"");t["dmp_u_esposizione"]=i.split(","),t["Sla"]=!1,"High"===t["vit_priority"]&&t["vit_age"]>90&&(t["Sla"]=!0),"Medium"===t["vit_priority"]&&t["vit_age"]>180&&(t["Sla"]=!0),"Low"===t["vit_priority"]&&t["vit_age"]>365&&(t["Sla"]=!0)})),Ut.forEach((function(i){var a=[];if("checkbox"==i.type){var n=[];n=i.multiple?Object(w["a"])(new Set(At["a"].flatten(e.map((function(t){return t[i.key]}))))):Object(w["a"])(new Set(e.map((function(t){return t[i.key]})))),a=n.filter((function(t){return t})).sort((function(t,e){return i.order?i.order.indexOf(t)-i.order.indexOf(e):t-e}))}else if("range"==i.type){var o=e.map((function(t){return parseFloat(t[i.key])}));a="vit_u_cvss_score"===i.key?[0,10]:[Math.min.apply(Math,Object(w["a"])(o)),Math.max.apply(Math,Object(w["a"])(o))]}else"group-list"==i.type&&(a=Object.keys(At["a"].groupBy(e,(function(t){return t[i.key]}))));r["default"].set(t.filterOptions,i.key,a.slice()),r["default"].set(t.filters,i.key,a.slice())}))):(t.csvData=[],t.hierarchy=[],t.dataError="Wrong CSV format.")},setFilterValue:function(t,e){r["default"].set(t.filters,e.filterKey,e.val)},setExcludeNodes:function(t,e){r["default"].set(t.filters,"excludeNodes",e)},setDataError:function(t,e){t.loaded=!1,t.fetchingData=!1,t.dataError=e},resetFilters:function(t){var e=Object.assign({},t.filterOptions);r["default"].set(t,"filters",Object.assign({},e))},setFilterPreset:function(t,e){Object.keys(e).forEach((function(i){r["default"].set(t.filters,i,e[i])}))}},actions:{loadTestData:function(){var t=Object(Ht["a"])(regeneratorRuntime.mark((function t(e){var i,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.state,r=e.commit,i.loaded=!1,i.fetchingData=!0,t.next=5,O["h"]("./data/test.csv",O["c"]).catch((function(t){return r("setDataError","Could not open test data")}));case 5:a=t.sent,r("setData",a),r("resetFilters");case 8:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),loadDataFromFile:function(t,e){var i=t.state,r=t.commit;if(e){i.loaded=!1,i.fetchingData=!0,i.dataError="",i.selectedDataSource={localFile:e,remoteFileUrl:null};var a=new FileReader;a.onloadend=function(){var t=Object(Ht["a"])(regeneratorRuntime.mark((function t(i){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i.target.result,t.next=3,O["h"](a,O["c"]).catch((function(t){return r("setDataError","Could not open CSV file. "+t.message)}));case 3:n=t.sent,r("setData",n),r("setSlideTitleFromData",e.name,{root:!0}),r("resetFilters");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.onerror=function(){var t=Object(Ht["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r("setDataError","Could not open CSV file.");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.readAsDataURL(e)}},loadData:function(){var t=Object(Ht["a"])(regeneratorRuntime.mark((function t(e,i){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,a=e.commit,r.loaded=!1,r.fetchingData=!0,r.dataError="",r.selectedDataSource={localFile:null,remoteFileUrl:i},t.next=7,O["h"](Object({NODE_ENV:"production",BASE_URL:"/fw-vulnerabilities/"}).VUE_APP_SCRAPER_URL+"data/"+i,O["c"]).catch((function(t){a("setDataError","Could not open CSV file. "+t.message)}));case 7:n=t.sent,n&&(a("setData",n),a("setSlideTitleFromData",i,{root:!0}),a("resetFilters"));case 9:case"end":return t.stop()}}),t)})));function e(e,i){return t.apply(this,arguments)}return e}()}},qt=i("bc3a"),Xt=i.n(qt);r["default"].use(k["a"]);var Yt=new k["a"].Store({modules:{data:Jt},state:{groupBy:"vit_state",colorBy:"vit_priority",sortBy:"Count",dotSize:5,showSLA:!1,showDescriptionNote:!1,slideTitle:"",slideSource:"",slideSize:"1920:1080",remoteFileList:[],currentFilterPreset:null,presetOptionsList:[]},getters:{slideSizeArray:function(t){return t.slideSize.split(":")}},mutations:{setGroupBy:function(t,e){t.groupBy=e},setColorBy:function(t,e){t.colorBy=e},setSortBy:function(t,e){t.sortBy=e},setDotSize:function(t,e){t.dotSize=+e},setShowSLA:function(t,e){t.showSLA=e},setShowDescriptionNote:function(t,e){t.showDescriptionNote=e},setslideTitle:function(t,e){t.slideTitle=e},setSlideTitleFromData:function(t,e){t.slideTitle=e.substring(0,e.lastIndexOf("."))},setSlideSource:function(t,e){t.slideSource=e},setSlideSize:function(t,e){t.slideSize=e},setViewPreset:function(t,e){Object.keys(e).forEach((function(i){r["default"].set(t,i,e[i])}))},setPresetOptionsList:function(t,e){t.presetOptionsList=e}},actions:{loadPresetList:function(t){t.state;var e=t.commit;Xt.a.get("./data/filterPresets.json").then((function(t){e("setPresetOptionsList",t.data)}))}}}),Qt=i("5f5b"),Zt=i("b1e0"),te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-button",{staticClass:"fw-button text-uppercase",attrs:{variant:"warning"},on:{click:t.onClick}},[t._t("default")],2)},ee=[],ie={name:"FWButton",methods:{onClick:function(t){this.$emit("click",t)}}},re=ie,ae=(i("dea7"),Object(P["a"])(re,te,ee,!1,null,"3d333265",null)),ne=ae.exports,oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fw-option-select"},[i("label",{staticClass:"fw-option-select-label"},[t._v(t._s(t.label))]),i("b-form-select",{attrs:{value:t.value,options:t.options},on:{change:t.onChange}})],1)},se=[],le={name:"FWOptionSelect",props:["label","value","options"],methods:{onChange:function(t){this.$emit("change",t)}}},ce=le,ue=(i("7663"),Object(P["a"])(ce,oe,se,!1,null,"364dfca4",null)),de=ue.exports,fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fw-input"},[i("label",{staticClass:"fw-option-select-label"},[t._v(t._s(t.label))]),i("b-form-input",{attrs:{value:t.value,placeholder:t.placeholder},on:{input:t.onInput}})],1)},pe=[],he={name:"FWInput",props:["label","value","placeholder"],methods:{onInput:function(t){this.$emit("input",t)}}},ve=he,be=(i("e259"),Object(P["a"])(ve,fe,pe,!1,null,"9e4c7c7e",null)),ge=be.exports,me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fw-input"},[i("label",{staticClass:"fw-option-select-label"},[t._v(t._s(t.label))]),i("div",{staticClass:"d-flex align-items-center mt-2"},[t.label_min?i("div",{staticClass:"s-label"},[t._v(t._s(t.label_min))]):t._e(),i("b-form-input",{staticClass:"fw-slider",attrs:{type:"range",value:t.value,min:t.min,max:t.max},on:{input:t.onInput}}),t.label_max?i("div",{staticClass:"s-label"},[t._v(t._s(t.label_max))]):t._e()],1)])},ye=[],_e={name:"FWInput",props:["label","value","max","min","label_min","label_max"],methods:{onInput:function(t){this.$emit("input",t)}}},we=_e,xe=(i("9ab1"),Object(P["a"])(we,me,ye,!1,null,"48167eae",null)),Oe=xe.exports;i("f9e3"),i("2dd8");r["default"].use(Qt["a"]),r["default"].use(Zt["a"]),r["default"].component("fw-button",ne),r["default"].component("fw-select",de),r["default"].component("fw-input",ge),r["default"].component("fw-slider",Oe),r["default"].config.productionTip=!1,new r["default"]({store:Yt,render:function(t){return t(Gt)}}).$mount("#app")},"591f":function(t,e,i){},6039:function(t,e,i){},6484:function(t,e,i){t.exports=i.p+"img/fwlogo.b687bbeb.svg"},"715c":function(t,e,i){"use strict";var r=i("c995"),a=i.n(r);a.a},7663:function(t,e,i){"use strict";var r=i("591f"),a=i.n(r);a.a},"7ae6":function(t,e,i){"use strict";var r=i("97d8"),a=i.n(r);a.a},"7faf":function(t,e,i){"use strict";var r=i("8fba"),a=i.n(r);a.a},"8a36":function(t,e,i){"use strict";var r=i("0b0d"),a=i.n(r);a.a},"8fba":function(t,e,i){},"96a4":function(t,e,i){},"97d8":function(t,e,i){},"98ca":function(t,e,i){"use strict";var r=i("6039"),a=i.n(r);a.a},"9ab1":function(t,e,i){"use strict";var r=i("c446"),a=i.n(r);a.a},c446:function(t,e,i){},c995:function(t,e,i){},dea7:function(t,e,i){"use strict";var r=i("96a4"),a=i.n(r);a.a},e259:function(t,e,i){"use strict";var r=i("14fd"),a=i.n(r);a.a},eb38:function(t,e,i){"use strict";var r=i("3575"),a=i.n(r);a.a}});
//# sourceMappingURL=app.05f62016.js.map